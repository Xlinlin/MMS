<!--
    名称：调度日志
    路径：schedule/operationlog/operation_log.html
    开发人：李秀敏
    日期：2018/11/8
 -->
<script type="text/x-template" id="schedule-operationlog-operation_log">
    <div>
        <cust-layout ref="custLayout" :on-change-height="onChangeHeight">
            <div slot="query">
                <i-form :model="searchForm" inline :label-width="80">
                    <form-item label="任务名称:">
                                <Select size="small" ref="select" v-model="searchForm.id" clearable style="width:200px" placeholder="请输入任务名称"  filterable @on-change="change"
                                        remote :remote-method="queryTask" @on-open-change="queryTask" @on-query-change="queryEmptyTask" >
                                <Option v-for="item in taskList" :value="item.id" :key="item.id">{{ item.name }}</Option>
                                </Select>
                    </form-item>
                    <form-item :label-width="0">
                        <i-button size="small" @click="searchOperLogById()">搜索</i-button>
                    </form-item>
                </i-form>
            </div>
            <div slot="content">
                <i-table :columns="columns" :data="page.content" size="small" border ref="table" :height="tableAptHeight"></i-table>
                <Page :total="page.totalElements" :page-size="page.size"   @on-change="changePage" @on-page-size-change="changePageSize" transfer show-elevator show-sizer size="small" show-total/>
            </div>
        </cust-layout>
    </div>
</script>

<script type="text/javascript" src="pages/schedule/operationlog/operation_log.js"></script>